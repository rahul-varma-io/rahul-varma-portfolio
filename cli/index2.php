<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rahul Varma</title>
    <!-- <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans|Oswald|Raleway|Roboto&display=swap" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css?family=Lato|Oswald|Raleway|Roboto|Inconsolata|Ubuntu&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ragasave.css">
    <script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js" charset="utf-8"></script>
    <script src="https://cdn.jsdelivr.net/gh/ragasave/ragasave_js/src/ragasave.min.js" charset="utf-8"></script>
    <script src="js/Ryntax.js" charset="utf-8"></script>
  </head>
  <!-- <body class="mac-light-theme"> -->
  <body class="">
<div class="body-wrapper">
  <div class="fixed-left-bar">
        <div class="btn share-me rotate-90">
          <div class="full-size">
          Share Me
          <span style="    padding-left: 10px;">
            <?xml version="1.0" encoding="iso-8859-1"?> <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --> <svg version="1.1" class="rotate-m90" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 58.995 58.995" xml:space="preserve"> <path d="M39.927,41.929c-0.524,0.524-0.975,1.1-1.365,1.709l-17.28-10.489c0.457-1.144,0.716-2.388,0.716-3.693 c0-1.305-0.259-2.549-0.715-3.693l17.284-10.409C40.342,18.142,43.454,20,46.998,20c5.514,0,10-4.486,10-10s-4.486-10-10-10 s-10,4.486-10,10c0,1.256,0.243,2.454,0.667,3.562L20.358,23.985c-1.788-2.724-4.866-4.529-8.361-4.529c-5.514,0-10,4.486-10,10 s4.486,10,10,10c3.495,0,6.572-1.805,8.36-4.529L37.661,45.43c-0.43,1.126-0.664,2.329-0.664,3.57c0,2.671,1.04,5.183,2.929,7.071 c1.949,1.949,4.51,2.924,7.071,2.924s5.122-0.975,7.071-2.924c1.889-1.889,2.929-4.4,2.929-7.071s-1.04-5.183-2.929-7.071 C50.169,38.029,43.826,38.029,39.927,41.929z M46.998,2c4.411,0,8,3.589,8,8s-3.589,8-8,8s-8-3.589-8-8S42.586,2,46.998,2z M11.998,37.456c-4.411,0-8-3.589-8-8s3.589-8,8-8s8,3.589,8,8S16.409,37.456,11.998,37.456z M52.654,54.657 c-3.119,3.119-8.194,3.119-11.313,0c-1.511-1.511-2.343-3.521-2.343-5.657s0.832-4.146,2.343-5.657 c1.56-1.56,3.608-2.339,5.657-2.339s4.097,0.779,5.657,2.339c1.511,1.511,2.343,3.521,2.343,5.657S54.166,53.146,52.654,54.657z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>

          </span>
        </div>
    </div>
  </div>

  <div class="fixed-right-bar hide" >
    <div class="group-wrapper">
      <div class="group-vert-bar">
        <div class="btn card btn-padding" style="min-width:115px;width:115px;top:5px;">
          Terminal
          <span style="    padding-left: 10px;">
            <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" class="rotate-m90" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 471.362 471.362" style="enable-background:new 0 0 471.362 471.362;" xml:space="preserve"><g><g><path d="M468.794,355.171c-1.707-1.718-3.897-2.57-6.563-2.57H188.145c-2.664,0-4.854,0.853-6.567,2.57c-1.711,1.711-2.565,3.897-2.565,6.563v18.274c0,2.662,0.854,4.853,2.565,6.563c1.713,1.712,3.903,2.57,6.567,2.57h274.086c2.666,0,4.856-0.858,6.563-2.57c1.711-1.711,2.567-3.901,2.567-6.563v-18.274C471.365,359.068,470.513,356.882,468.794,355.171z"/><path d="M30.259,85.075c-1.903-1.903-4.093-2.856-6.567-2.856s-4.661,0.953-6.563,2.856L2.852,99.353C0.95,101.255,0,103.442,0,105.918c0,2.478,0.95,4.664,2.852,6.567L115.06,224.69L2.852,336.896C0.95,338.799,0,340.989,0,343.46c0,2.478,0.95,4.665,2.852,6.567l14.276,14.273c1.903,1.906,4.089,2.854,6.563,2.854s4.665-0.951,6.567-2.854l133.048-133.045c1.903-1.902,2.853-4.096,2.853-6.57c0-2.473-0.95-4.663-2.853-6.565L30.259,85.075z"/></g></g></svg>
          </span>
        </div>
        <div class="btn card btn-padding" style="min-width:115px;width:115px;top:5px;">
          Terminal
          <span style="    padding-left: 10px;">
            <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" class="rotate-m90" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 471.362 471.362" style="enable-background:new 0 0 471.362 471.362;" xml:space="preserve"><g><g><path d="M468.794,355.171c-1.707-1.718-3.897-2.57-6.563-2.57H188.145c-2.664,0-4.854,0.853-6.567,2.57c-1.711,1.711-2.565,3.897-2.565,6.563v18.274c0,2.662,0.854,4.853,2.565,6.563c1.713,1.712,3.903,2.57,6.567,2.57h274.086c2.666,0,4.856-0.858,6.563-2.57c1.711-1.711,2.567-3.901,2.567-6.563v-18.274C471.365,359.068,470.513,356.882,468.794,355.171z"/><path d="M30.259,85.075c-1.903-1.903-4.093-2.856-6.567-2.856s-4.661,0.953-6.563,2.856L2.852,99.353C0.95,101.255,0,103.442,0,105.918c0,2.478,0.95,4.664,2.852,6.567L115.06,224.69L2.852,336.896C0.95,338.799,0,340.989,0,343.46c0,2.478,0.95,4.665,2.852,6.567l14.276,14.273c1.903,1.906,4.089,2.854,6.563,2.854s4.665-0.951,6.567-2.854l133.048-133.045c1.903-1.902,2.853-4.096,2.853-6.57c0-2.473-0.95-4.663-2.853-6.565L30.259,85.075z"/></g></g></svg>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="fixed-bottom-right pr5 pl5" style="padding-bottom: 10px">
    <div class="btn card btn-padding terminal-louncher modal-louncher" data-target="#terminal" style="min-width:115px;width:115px;top:5px;">
      Terminal
      <span style="    padding-left: 10px;">
        <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1"  id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 471.362 471.362" style="enable-background:new 0 0 471.362 471.362;" xml:space="preserve"><g><g><path d="M468.794,355.171c-1.707-1.718-3.897-2.57-6.563-2.57H188.145c-2.664,0-4.854,0.853-6.567,2.57c-1.711,1.711-2.565,3.897-2.565,6.563v18.274c0,2.662,0.854,4.853,2.565,6.563c1.713,1.712,3.903,2.57,6.567,2.57h274.086c2.666,0,4.856-0.858,6.563-2.57c1.711-1.711,2.567-3.901,2.567-6.563v-18.274C471.365,359.068,470.513,356.882,468.794,355.171z"/><path d="M30.259,85.075c-1.903-1.903-4.093-2.856-6.567-2.856s-4.661,0.953-6.563,2.856L2.852,99.353C0.95,101.255,0,103.442,0,105.918c0,2.478,0.95,4.664,2.852,6.567L115.06,224.69L2.852,336.896C0.95,338.799,0,340.989,0,343.46c0,2.478,0.95,4.665,2.852,6.567l14.276,14.273c1.903,1.906,4.089,2.854,6.563,2.854s4.665-0.951,6.567-2.854l133.048-133.045c1.903-1.902,2.853-4.096,2.853-6.57c0-2.473-0.95-4.663-2.853-6.565L30.259,85.075z"/></g></g></svg>
      </span>
    </div>
  </div>


      <div class="header">
        <div class="header-wrapper">
          <div class="padding">
            <div class="introduction">
              <h1>
                He
              </h1>
              <h1 >
                llo <label class="dot"></label>
              </h1>

            </div>
          <div class="name">

            <h1 >
              I am
            </h1>
              <h1 >
                Rahul Varma
              </h1>
              <h3>
                Front-End Designer

              </h3>
              <h3>
                and Back-End Developer
              </h3>
              <h3>
            based in India
              </h3>
            </div>
          </div>
        </div>
      </div>

  <section>
    <div class="section-left">
      <div class="title">
        <h1>
          About Me <span>:</span>

        </h1>
        <h1>
          <!-- italy <span>:</span> -->
        </h1>
      </div>
      <div class="content">
        <h3>
          I am a Front-End and Back-End Developer  based in India.
          I am .
        </h3>
      </div>
    </div>


    <div class="section-right">
      <div class="title">
        <h1>
          Skills <span>:</span>

        </h1>
        <h1>
          <!-- italy <span>:</span> -->
        </h1>
      </div>
      <div class="content card">
        <h3>
          I am a Front-End Developer and UI Designer based in Italy.
          I am founder and CEO at Patrick David Creative Agency. I am a dreamer and a fanatic of all digital things. I have many years of experience in consulting in all areas of digital. I love minimal design and pizza. Judge at CSSDA. I am also an Envato Author.
        </h3>
      </div>
    </div>
  </section>


</div>
<!-- <div class="rc-modal-container">
  <div class="rc-modal-wrapper"> -->

  <div class="mac modal card " id="terminal" data-btn=".terminal-louncher" style="visibility:hidden">
    <div class="modal-header">
      <div class="modal-control">
        <label class="close" click="close fade '.mac-modal'" for="">
        </label>
        <label class="minimize" click="close fade '.mac-modal'" for="">
        </label>
        <label class="maximize" click="close fade '.mac-modal'" for="">
        </label>
      </div>
      <div class="modal-title">
        <label for="">
          Terminal
        </label>
      </div>
    </div>
    <div class="modal-body">
      <div class="terminal" tabindex="1">
          <pre class="">
            <span style="font-family: monospace;"  class="mha dt">
██████╗  █████╗ ██╗  ██╗██╗   ██╗██╗
██╔══██╗██╔══██╗██║  ██║██║   ██║██║
██████╔╝███████║███████║██║   ██║██║
██╔══██╗██╔══██║██╔══██║██║   ██║██║
██║  ██║██║  ██║██║  ██║╚██████╔╝███████╗
╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝
            </span>
          </pre>
          <pre>
            <span>Type `help' to see command list</span>
          </pre>
          <pre><span class="tusernhost">Guest@Rahul-Varma:</span><span class="tdlrs">~$</span><span contenteditable autocomplete="false" spellcheck="false" class="tcaret" ></span></pre>
      </div>
    </div>
  </div>
  <!-- </div>
</div> -->
<script type="text/javascript">


  const EmptyCommand = $('<pre><span class="tusernhost">Guest@Rahul-Varma:</span><span class="tdlrs">~$</span></pre>');
  Ragasave(".terminal").focus(function () {
    const $caret = Ragasave(this).find('.tcaret');
    $caret[0].focus();
  });

  const RyntaxHistory = {
    last : 1,
    list : []
  };

  // Ragasave('.tcaret').on('keypress',function(event){
  //   const keyCode = event.keyCode || event.which;
  //   console.log(keyCode);
  //   if(keyCode == 13){
  //     newCommand($(this).parents('.terminal'), this, this.textContent);
  //   }
  // });

  const ArrowKey = {
    up : false,
    down : false,
  };

  Ragasave(".terminal .tcaret").keyDown(function(event){
    const keyCode = event.keyCode || event.which;
    if(keyCode == 38){
      event.preventDefault();
      // ArrowKey.down ? RyntaxHistory.last-- : null;
      let index = RyntaxHistory.last;
      if(RyntaxHistory.list[index]){
        this.innerHTML = RyntaxHistory.list[index];
        setCaretToEnd(this);
        RyntaxHistory.last == 0 ? RyntaxHistory.last : RyntaxHistory.last-- ;
      }
      ArrowKey.up = true;
      ArrowKey.down = false;
      return;
    }


    /*ArrowDown*/
    if(keyCode == 40){
      event.preventDefault();
      ArrowKey.up ? RyntaxHistory.last++ : null;
      let index = RyntaxHistory.last;
      if(RyntaxHistory.list[index + 1]){
        this.innerHTML = RyntaxHistory.list[index+1];
        setCaretToEnd(this);
        RyntaxHistory.last++;
      }else{
        ArrowKey.up ? RyntaxHistory.last-- : null;
        this.innerHTML = '';
      }
      ArrowKey.up = false;
      ArrowKey.down = true;
      return;
    }
  });

  Ragasave(".terminal").on('keypress',function(event){
    const keyCode = event.keyCode || event.which;
    const $terminal = $(this);
    const $caret = Ragasave(this).find('.tcaret');
    const $modal = $(this).parents('.modal');
    const $command = $caret.text();


    if(keyCode == 13){
      event.preventDefault();

      if($command.replace(/[\s]+/g, '').length == 0){
        newCommand($(this), $caret[0], $command);
        return ;
      }
      if(Ryntax[$command]){

        if($.isPlainObject(Ryntax[$command])){
          var c = Ryntax[$command];

        }else if(typeof Ryntax[$command] == "function"){
          var out = Ryntax[$command]($modal,  $terminal);
          out.newCommand ? newCommand($(this), $caret[0], $command) : null;
        }else{
          Ragasave(this).append(Ryntax[$command]);
          newCommand($(this), $caret[0], $command);
        }

      }else{
        // RyntaxHistory.list.push($command);
        // command not found
          Ragasave(this).append('<pre><span>'+$command+':'+"\t"+'command not found</span></pre>');
          newCommand($(this), $caret[0], $command);

      }

      const commandIndex = RyntaxHistory.list.indexOf($command);
      if(commandIndex  >= 0){
        RyntaxHistory.list.splice(commandIndex,1)
      }
      RyntaxHistory.list.push($command);
      RyntaxHistory.last = RyntaxHistory.list.length == 0 ? 0 : RyntaxHistory.list.length-1;


      // }else{
      //   // Command 'sef' not found, did you mean:
      //   Ragasave(this).append('<pre><span>Command '+"'"+$command+"'"+' not found, did you mean:</span></pre>');
      //
      // }


    }


  });


  function clearTerminal($terminal) {
    const $caret = $terminal.find('.tcaret');
    $caret[0].innerHTML = '';
    $nCommand = EmptyCommand.clone(true);
    $terminal[0].innerHTML = '';
    $terminal.append($nCommand.append($caret[0])[0]);
    $caret[0].focus();
  }

  function println($terminal, text) {
    $terminal.append('<pre><span>'+text+"\t"+'</span></pre>');
  }
  function newCommand($terminal,$caret,$command) {
          $caret.innerHTML = '';
          $nCommand = EmptyCommand.clone(true);
          // $caretCopy = $($caret[0]).clone(true);
          $caretCopy = $($caret).replaceWith('<span>'+$command+'</span>');
          $terminal.append($nCommand.append($caretCopy[0])[0]);
          $caretCopy[0].focus();
  }


  function setCaretToEnd($caret) {;
    var range = document.createRange();
    var sel = window.getSelection();
    range.setStart($caret.childNodes[0], $caret.childNodes[0].length);
    range.collapse(true);
    sel.removeAllRanges();
    sel.addRange(range);
  }




  function moveModal($modal) {
      $modal = $modal || Ragasave('.modal');
        Ragasave($modal).draggable({
          handle : Ragasave($modal).find('.modal-header') || Ragasave('.modal-header')
        });
  }
  // Ragasave('.modal').top($(window));


  moveModal();


  const modalPosition = {};
  const modals = {};

  function closeModal($modal,callback){
    var btn = $($modal.data('btn'));
    if(modals[btn]){
      $modal.remove();
      return ;
    }
    callback ? callback() : null;
    var btnOffset = Ragasave(btn[0]).position();
    var $mpos = Ragasave($modal[0]).position();
    modalPosition[btn[0]] = $mpos;
    // console.log(modalPosition);
    $modal.attr("state", "close");
    $modal.css({"display": "none",top :(btnOffset.top + (btn.height()*1.5)) ,opacity : 0, left: (btnOffset.left + (btn.width()/2))});
    if(!modals[btn[0]]){
      modals[btn[0]] = Ragasave($modal[0]).clone(true,true);
    }
    clearTerminal($modal.find(".terminal"));
    $modal.remove();

  }

  function minimizeModal($modal,callback){
    var btn = $($modal.data('btn'));
    var btnOffset = Ragasave(btn[0]).position();
    var $mpos = Ragasave($modal[0]).position();
    modalPosition[btn[0]] = $mpos;
    $modal.attr("state", "minimize")
    $modal.stop().animate({height: 'toggle', width: 'toggle', top :(btnOffset.top + (btn.height()*1.5)) ,opacity : 0, left: (btnOffset.left + (btn.width()/2))},function(){callback ? callback() : null;})
  }


    function lounchModal($modalBtn){
      var $modal = $($modalBtn.data("target"));

      if($modal.attr("state") == 'open'){
        minimizeModal($modal);
        return ;
      }

      if($modal.attr("state") == 'minimize'){
        // return ;
      }

      if($modal.length == 0){
        $modal = $(modals[$modalBtn[0]][0]);
        moveModal($modal[0]);
        $modal.appendTo("body");
      }
      var $mpos = modalPosition[$modalBtn[0]];
      if(!$mpos){
        $mpos = {
          width : 500,
          height : 350,
          top : 250,
          left : 300,

        };
      }
      // return $mpos;
      // $modal.stop().animate($mpos)
      $modal.attr("state", "open");
      $modal.stop().animate({height: 'toggle', width: 'toggle', top :$mpos.top , left: $mpos.left, opacity : 1})
      $modal.find(".tcaret")[0].focus();
    }

    function maximizeModal($modal) {

    }


    Ragasave(".modal-header .close").click(function () {
      closeModal($(this).parents(".modal"));
    });

    Ragasave(".modal-header .minimize").click(function () {
      minimizeModal($(this).parents(".modal"));
    });

    Ragasave(".modal-louncher").click(function () {
      lounchModal($(this));
    });

    $(function () {
      closeModal($(".modal"),function(){
        $(".modal").css('visibility', '');
        $(".modal").attr('state', 'close');
      });
    });

    $(window).keydown(function(event){
      const keyCode = event.keyCode || event.which;
      if(event.altKey && event.ctrlKey){
        event.preventDefault();
        // if(keyCode == 84){
          lounchModal($(".terminal-louncher"));
        // }
      }
    });
</script>
  </body>
</html>
